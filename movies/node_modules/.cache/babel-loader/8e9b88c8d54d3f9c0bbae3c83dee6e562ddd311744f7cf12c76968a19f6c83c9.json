{"ast":null,"code":"import axios from 'axios';\nexport const getAllMovies = async () => {\n  const res = await axios.get(\"/movies\").catch(err => {\n    console.log(err);\n  });\n  if (res.status !== 200) {\n    return console.log(\"No data\");\n  }\n  const data = await res.data;\n  return data;\n};\nexport const sendUserAuthRequest = async (data, signup) => {\n  const res = await axios.post(`users/${signup ? \"signup\" : \"login\"}`, {\n    name: signup ? data.name : \"\",\n    email: data.email,\n    password: data.password\n  }).catch(err => console.log(err));\n  if (res.status !== 200 && res.status !== 201) {\n    console.log(\"Unexpected Error Occured\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const sendAdminAuthRequest = async data => {\n  const res = await axios.post(\"/admin/login\", {\n    email: data.email,\n    password: data.password\n  }).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected error occurred.\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const getUserBooking = async () => {\n  const id = localStorage.getItem('userId');\n  const res = await axios.get(`/users/bookings/${id}`).catch(err => console.log(err));\n  if (res.status !== 201) {\n    return console.log(\"Unexpected error\");\n  }\n  const resData = await res.data;\n  console.log(resData);\n  return resData;\n};\nexport const getMoviedetails = async id => {\n  const res = await axios.get(`/movies/${id}`).catch(err => {\n    console.log(err);\n  });\n  if (res.status !== 200) {\n    return console.log(\"unexpected error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const newBooking = async data => {\n  const res = await axios.post('/booking', {\n    movie: data.movie,\n    seatNumber: data.seatNumber,\n    date: data.date,\n    user: localStorage.getItem(\"userId\")\n  }).catch(err => {\n    console.log(err);\n  });\n  console.log(data, localStorage.getItem(\"userId\"));\n  if (res.status !== 201) {\n    return console.log(\"unexpected error\");\n  }\n  const resdata = await res.data;\n  return resdata;\n};\nexport const deleteBooking = async id => {\n  const res = await axios.delete(`/booking/${id}`).catch(err => {\n    console.log(err);\n  });\n  if (res.status !== 200) {\n    console.log(\"unexpected error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const getUserDetails = async () => {\n  const id = localStorage.getItem(\"userId\");\n  const res = await axios.get(`/users/${id}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const respData = await res.data;\n  console.log(respData);\n  return respData;\n};\nexport const addMovie = async data => {\n  const res = await axios.post('/movies/add', {\n    title: data.title,\n    description: data.description,\n    releaseDate: data.releaseDate,\n    posterUrl: data.posterUrl,\n    actors: data.actors,\n    admin: localStorage.getItem('adminId')\n  }, {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n    }\n  }).catch(err => console.log(err));\n  if (res.status !== 201) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const getAdminById = async () => {\n  const adminId = localStorage.getItem(\"adminId\");\n  const res = await axios.get(`/admin/${adminId}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};","map":{"version":3,"names":["axios","getAllMovies","res","get","catch","err","console","log","status","data","sendUserAuthRequest","signup","post","name","email","password","resData","sendAdminAuthRequest","getUserBooking","id","localStorage","getItem","getMoviedetails","newBooking","movie","seatNumber","date","user","resdata","deleteBooking","delete","getUserDetails","respData","addMovie","title","description","releaseDate","posterUrl","actors","admin","headers","Authorization","getAdminById","adminId"],"sources":["C:/Users/USER/Desktop/Movies-Booking-Application-Sep/movies/src/API-Helpers/api-helpers.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nexport const getAllMovies = async () => {\r\n    const res = await axios.get(\"/movies\")\r\n    .catch((err) => {\r\n        console.log(err)\r\n    })\r\n    if(res.status !== 200) {\r\n        return console.log(\"No data\")\r\n    }\r\n    const data = await res.data;\r\n    return data;\r\n} \r\n\r\nexport const sendUserAuthRequest = async (data, signup) => {\r\n    const res = await axios.post(`users/${signup? \"signup\" : \"login\"}`, {\r\n        name: signup ? data.name : \"\",\r\n        email: data.email,\r\n        password: data.password\r\n    }).catch((err) => console.log(err))\r\n    if (res.status !== 200 && res.status !== 201) {\r\n        console.log(\"Unexpected Error Occured\");\r\n    }\r\n\r\n    const resData = await res.data;\r\n    return resData;\r\n}\r\n \r\nexport const sendAdminAuthRequest = async (data) => {\r\n    const res = await axios.post(\"/admin/login\", {\r\n        email: data.email,\r\n        password: data.password\r\n    }).catch((err) => console.log(err))\r\n\r\n    if(res.status !== 200) {\r\n        return console.log(\"Unexpected error occurred.\")\r\n    }\r\n    const resData = await res.data;\r\n    return resData;\r\n}\r\n\r\nexport const getUserBooking = async() => {\r\n    const id = localStorage.getItem('userId');\r\n    const res = await axios.get(`/users/bookings/${id}`)\r\n    .catch((err)=>console.log(err));\r\n    if (res.status !== 201) {\r\n        return console.log(\"Unexpected error\")\r\n    }\r\n    const resData = await res.data;\r\n    console.log(resData);\r\n    return resData;\r\n}\r\n\r\nexport const getMoviedetails=async(id)=>{\r\n    const res=await axios.get(`/movies/${id}`).catch((err)=>{console.log(err)})\r\n    if(res.status!==200)\r\n    {\r\n     return console.log(\"unexpected error\")\r\n    }\r\n    const resData=await res.data;\r\n    return resData;\r\n };\r\nexport const newBooking=async(data)=>{\r\n    const res=await axios.post('/booking',{\r\n        movie:data.movie,\r\n        seatNumber:data.seatNumber,\r\n        date:data.date,\r\n        user:localStorage.getItem(\"userId\")\r\n    })\r\n    .catch((err)=>{console.log(err)});\r\n    console.log(data,localStorage.getItem(\"userId\"));\r\n    if(res.status!==201)\r\n    {\r\n        return console.log(\"unexpected error\")\r\n    }\r\n    const resdata=await res.data;\r\n    return resdata;\r\n }\r\n\r\n export const deleteBooking=async(id)=>{\r\n    const res=await axios.delete(`/booking/${id}`).catch((err)=>{\r\n        console.log(err);\r\n    })\r\n    if(res.status!==200)\r\n    {\r\n        console.log(\"unexpected error\");\r\n    } \r\n    const resData= await res.data;\r\n    return resData; \r\n}\r\nexport const getUserDetails =async()=>{\r\n    const id = localStorage.getItem(\"userId\");\r\n\r\n    const res = await axios.get(`/users/${id}`)\r\n    .catch((err) => console.log(err));\r\n    \r\n    if (res.status !== 200) { \r\n     return console.log(\"Unexpected Error\");   \r\n    }\r\n    const respData = await res.data;\r\n    console.log(respData);\r\n    return respData;\r\n}\r\nexport const addMovie = async (data) => {\r\n    const res=await axios.post('/movies/add',{\r\n        title:data.title,\r\n        description:data.description,\r\n        releaseDate:data.releaseDate,\r\n        posterUrl:data.posterUrl,\r\n        actors:data.actors,\r\n        admin:localStorage.getItem('adminId'),\r\n    },{\r\n        headers:{\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\r\n        }\r\n    }).catch((err)=>console.log(err))\r\n    if (res.status !== 201) {\r\n                return console.log(\"Unexpected Error\");\r\n            }\r\n            const resData = await res.data;\r\n            return resData;\r\n}\r\nexport const getAdminById = async () => {\r\n    const adminId = localStorage.getItem(\"adminId\");\r\n    const res = await axios.get(`/admin/${adminId}`)\r\n    .catch(err => console.log(err));\r\n    if (res.status !== 200) { \r\n        return console.log(\"Unexpected Error\");\r\n    }\r\n    const resData = await res.data;\r\n    return resData;   \r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}